<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>JS Variables</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">        
    </head>
<body>
    <h1>Example for API</h1>
    <button id="submit" class="btn btn-danger m-5 p-3 fw-bold">GET DATA</button>
    <div id="display">
        <p id="name" class="text-primary display-2 m-3 p-3 fw-bold"></p>
        <p id="age" class="text-success display-2 m-3 p-3 fw-bold"></p>
        <p id="address" class="text-dark display-2 m-3 p-3 fw-bold"></p>
        <p id="postalCode" class="text-danger display-2 m-3 p-3 fw-bold"></p>
        <p id="status" class="text-secondary display-2 m-3 p-3 fw-bold"></p>
    </div>
    <script>
    var result;
    let name = document.getElementById('name');
    let age = document.getElementById('age')
    let address = document.getElementById('address')
    let postalCode = document.getElementById('postalCode')
    let status = document.getElementById('status')

        // function loadText(){
        //     console.log("Hello")
        //     var xhr = new XMLHttpRequest()
        //     xhr.open('GET','./../../Git_notes.txt',true)
        //     xhr.onload = function(){
        //         if(this.status == 200){
        //             console.log("HI")
        //             console.log(this.responseText)
        //             result = this.responseText;
        //             console.log(typeof result)
        //             document.getElementById('result').innerHTML = result;
        //         }
        //     }
        //     xhr.send()
        // }
        // document.getElementById('submit').addEventListener('click',loadText)
        // //console.log()
        
        function open(){
            let xhr = new XMLHttpRequest()
            xhr.open('GET','./../../new.json',true)
            xhr.onload = function(){
                if(this.status == 200){
                    result = JSON.parse(this.responseText);
                    console.log(result, typeof result)
                    let now = result['company1'][0];
                    console.log(now)
                    let nameF =result['company1'][0]['name']; 
                    let ageF =result['company1'][0]['age']; 
                    let addressF =result['company1'][0]['address']; 
                    let postalCodeF =result['company1'][0]['postalCode']; 
                    let statusF =result['company1'][0]['status']; 
                    name.innerHTML = 'Name' + ' : ' + nameF;
                    age.innerHTML = 'Age' + ' : ' + ageF;
                    address.innerHTML = 'Address' + ' : ' + addressF;
                    postalCode.innerHTML = 'postalCode' + ' : ' + postalCodeF;
                    status.innerHTML = 'Status' + ' : ' + statusF;
                }
            }
            xhr.send()
        }
        document.getElementById('submit').addEventListener('click',open)





    </script>
</body>
</html>